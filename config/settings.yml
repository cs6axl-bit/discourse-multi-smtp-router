# config/settings.yml

plugins:
  multi_smtp_router_enabled:
    default: false
    client: false
    type: bool

  multi_smtp_router_debug_log_enabled:
    default: false
    client: false
    type: bool

  # Routing mode switches
  multi_smtp_router_random_enabled:
    default: true
    client: false
    type: bool

  multi_smtp_router_weighted_enabled:
    default: false
    client: false
    type: bool

  multi_smtp_router_domain_override_enabled:
    default: false
    client: false
    type: bool

  # Metrics-based routing (uses digest_provider_domain_metrics)
  multi_smtp_router_domain_metrics_enabled:
    default: false
    client: false
    type: bool

  # 45 minutes = 2700 seconds
  multi_smtp_router_domain_metrics_cache_ttl_seconds:
    default: 2700
    client: false
    type: integer
    min: 60
    max: 86400

  multi_smtp_router_domain_metrics_pre_random_percent:
    default: 10
    client: false
    type: integer
    min: 0
    max: 100

  multi_smtp_router_domain_metrics_single_row_random_percent:
    default: 0
    client: false
    type: integer
    min: 0
    max: 100

  # Domain override pairs (list)
  # Example lines:
  #   gmail.com=mailgun
  #   yahoo.com:sendpulse
  #   outlook.com>sparkpost1
  multi_smtp_router_domain_provider_pairs:
    default: ""
    client: false
    type: list

  # Optional async external logging
  multi_smtp_router_log_to_endpoint_enabled:
    default: false
    client: false
    type: bool

  multi_smtp_router_log_endpoint_url:
    default: ""
    client: false
    type: text

  multi_smtp_router_log_http_open_timeout:
    default: 2
    client: false
    type: integer
    min: 1
    max: 30

  multi_smtp_router_log_http_read_timeout:
    default: 3
    client: false
    type: integer
    min: 1
    max: 60

  # --------------------
  # Provider slots (6)
  # --------------------
  multi_smtp_router_p1_enabled:
    default: false
    client: false
    type: bool
  multi_smtp_router_p1_id:
    default: ""
    client: false
    type: text
  multi_smtp_router_p1_weight_percent:
    default: 0
    client: false
    type: integer
    min: 0
    max: 100
  multi_smtp_router_p1_from_address:
    default: ""
    client: false
    type: text
  multi_smtp_router_p1_reply_to_address:
    default: ""
    client: false
    type: text
  multi_smtp_router_p1_smtp_address:
    default: ""
    client: false
    type: text
  multi_smtp_router_p1_smtp_port:
    default: 587
    client: false
    type: integer
    min: 1
    max: 65535
  multi_smtp_router_p1_smtp_username:
    default: ""
    client: false
    type: text
  multi_smtp_router_p1_smtp_password:
    default: ""
    client: false
    type: password
  multi_smtp_router_p1_smtp_authentication_mode:
    default: plain
    client: false
    type: enum
    choices:
      - plain
      - login
      - cram_md5
  multi_smtp_router_p1_smtp_enable_starttls_auto:
    default: true
    client: false
    type: bool
  multi_smtp_router_p1_smtp_ssl:
    default: false
    client: false
    type: bool
  multi_smtp_router_p1_smtp_tls:
    default: false
    client: false
    type: bool
  multi_smtp_router_p1_smtp_domain:
    default: ""
    client: false
    type: text

  multi_smtp_router_p2_enabled:
    default: false
    client: false
    type: bool
  multi_smtp_router_p2_id:
    default: ""
    client: false
    type: text
  multi_smtp_router_p2_weight_percent:
    default: 0
    client: false
    type: integer
    min: 0
    max: 100
  multi_smtp_router_p2_from_address:
    default: ""
    client: false
    type: text
  multi_smtp_router_p2_reply_to_address:
    default: ""
    client: false
    type: text
  multi_smtp_router_p2_smtp_address:
    default: ""
    client: false
    type: text
  multi_smtp_router_p2_smtp_port:
    default: 587
    client: false
    type: integer
    min: 1
    max: 65535
  multi_smtp_router_p2_smtp_username:
    default: ""
    client: false
    type: text
  multi_smtp_router_p2_smtp_password:
    default: ""
    client: false
    type: password
  multi_smtp_router_p2_smtp_authentication_mode:
    default: plain
    client: false
    type: enum
    choices:
      - plain
      - login
      - cram_md5
  multi_smtp_router_p2_smtp_enable_starttls_auto:
    default: true
    client: false
    type: bool
  multi_smtp_router_p2_smtp_ssl:
    default: false
    client: false
    type: bool
  multi_smtp_router_p2_smtp_tls:
    default: false
    client: false
    type: bool
  multi_smtp_router_p2_smtp_domain:
    default: ""
    client: false
    type: text

  multi_smtp_router_p3_enabled:
    default: false
    client: false
    type: bool
  multi_smtp_router_p3_id:
    default: ""
    client: false
    type: text
  multi_smtp_router_p3_weight_percent:
    default: 0
    client: false
    type: integer
    min: 0
    max: 100
  multi_smtp_router_p3_from_address:
    default: ""
    client: false
    type: text
  multi_smtp_router_p3_reply_to_address:
    default: ""
    client: false
    type: text
  multi_smtp_router_p3_smtp_address:
    default: ""
    client: false
    type: text
  multi_smtp_router_p3_smtp_port:
    default: 587
    client: false
    type: integer
    min: 1
    max: 65535
  multi_smtp_router_p3_smtp_username:
    default: ""
    client: false
    type: text
  multi_smtp_router_p3_smtp_password:
    default: ""
    client: false
    type: password
  multi_smtp_router_p3_smtp_authentication_mode:
    default: plain
    client: false
    type: enum
    choices:
      - plain
      - login
      - cram_md5
  multi_smtp_router_p3_smtp_enable_starttls_auto:
    default: true
    client: false
    type: bool
  multi_smtp_router_p3_smtp_ssl:
    default: false
    client: false
    type: bool
  multi_smtp_router_p3_smtp_tls:
    default: false
    client: false
    type: bool
  multi_smtp_router_p3_smtp_domain:
    default: ""
    client: false
    type: text

  multi_smtp_router_p4_enabled:
    default: false
    client: false
    type: bool
  multi_smtp_router_p4_id:
    default: ""
    client: false
    type: text
  multi_smtp_router_p4_weight_percent:
    default: 0
    client: false
    type: integer
    min: 0
    max: 100
  multi_smtp_router_p4_from_address:
    default: ""
    client: false
    type: text
  multi_smtp_router_p4_reply_to_address:
    default: ""
    client: false
    type: text
  multi_smtp_router_p4_smtp_address:
    default: ""
    client: false
    type: text
  multi_smtp_router_p4_smtp_port:
    default: 587
    client: false
    type: integer
    min: 1
    max: 65535
  multi_smtp_router_p4_smtp_username:
    default: ""
    client: false
    type: text
  multi_smtp_router_p4_smtp_password:
    default: ""
    client: false
    type: password
  multi_smtp_router_p4_smtp_authentication_mode:
    default: plain
    client: false
    type: enum
    choices:
      - plain
      - login
      - cram_md5
  multi_smtp_router_p4_smtp_enable_starttls_auto:
    default: true
    client: false
    type: bool
  multi_smtp_router_p4_smtp_ssl:
    default: false
    client: false
    type: bool
  multi_smtp_router_p4_smtp_tls:
    default: false
    client: false
    type: bool
  multi_smtp_router_p4_smtp_domain:
    default: ""
    client: false
    type: text

  multi_smtp_router_p5_enabled:
    default: false
    client: false
    type: bool
  multi_smtp_router_p5_id:
    default: ""
    client: false
    type: text
  multi_smtp_router_p5_weight_percent:
    default: 0
    client: false
    type: integer
    min: 0
    max: 100
  multi_smtp_router_p5_from_address:
    default: ""
    client: false
    type: text
  multi_smtp_router_p5_reply_to_address:
    default: ""
    client: false
    type: text
  multi_smtp_router_p5_smtp_address:
    default: ""
    client: false
    type: text
  multi_smtp_router_p5_smtp_port:
    default: 587
    client: false
    type: integer
    min: 1
    max: 65535
  multi_smtp_router_p5_smtp_username:
    default: ""
    client: false
    type: text
  multi_smtp_router_p5_smtp_password:
    default: ""
    client: false
    type: password
  multi_smtp_router_p5_smtp_authentication_mode:
    default: plain
    client: false
    type: enum
    choices:
      - plain
      - login
      - cram_md5
  multi_smtp_router_p5_smtp_enable_starttls_auto:
    default: true
    client: false
    type: bool
  multi_smtp_router_p5_smtp_ssl:
    default: false
    client: false
    type: bool
  multi_smtp_router_p5_smtp_tls:
    default: false
    client: false
    type: bool
  multi_smtp_router_p5_smtp_domain:
    default: ""
    client: false
    type: text

  multi_smtp_router_p6_enabled:
    default: false
    client: false
    type: bool
  multi_smtp_router_p6_id:
    default: ""
    client: false
    type: text
  multi_smtp_router_p6_weight_percent:
    default: 0
    client: false
    type: integer
    min: 0
    max: 100
  multi_smtp_router_p6_from_address:
    default: ""
    client: false
    type: text
  multi_smtp_router_p6_reply_to_address:
    default: ""
    client: false
    type: text
  multi_smtp_router_p6_smtp_address:
    default: ""
    client: false
    type: text
  multi_smtp_router_p6_smtp_port:
    default: 587
    client: false
    type: integer
    min: 1
    max: 65535
  multi_smtp_router_p6_smtp_username:
    default: ""
    client: false
    type: text
  multi_smtp_router_p6_smtp_password:
    default: ""
    client: false
    type: password
  multi_smtp_router_p6_smtp_authentication_mode:
    default: plain
    client: false
    type: enum
    choices:
      - plain
      - login
      - cram_md5
  multi_smtp_router_p6_smtp_enable_starttls_auto:
    default: true
    client: false
    type: bool
  multi_smtp_router_p6_smtp_ssl:
    default: false
    client: false
    type: bool
  multi_smtp_router_p6_smtp_tls:
    default: false
    client: false
    type: bool
  multi_smtp_router_p6_smtp_domain:
    default: ""
    client: false
    type: text
